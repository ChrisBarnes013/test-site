<!doctype html>

<html>
  <head>
    <title>Test Site</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<script type="text/javascript">	  
document.cookie = "testCookieID=12345";
</script>
	  
<!-- Infinity Tracking Code v2.0
 Copyright Infinity 2020
 www.infinity.co -->
<script type="text/javascript">
    var _ictt = _ictt || [];
    _ictt.push(['_setIgrp','2397']); // Installation ID
    _ictt.push(['_enableGAIntegration',{'gua':true,'ga':false}]);
    _ictt.push(['_setAutoDiscoveryClasses', ['store-details__telephone','InfinityNumber','b-store__phone','call-to-action','number']]);
    _ictt.push(['_enableAutoDiscovery']);
    _ictt.push(['_includeExternal', [{'fromCookie':'testCookieID','to':'_setCustomVar'}]]);
	
	
	
	
// anything with a tel: url
// - with no children
_ictt.push(['_addNumberElements', $('a[href^="tel:"]').filter(function() {
  return this.children.length === 0;
}).get()]);
// - or with a nested span which contains the number
_ictt.push(['_addNumberElements', $('a[href^="tel:"] span').get()]);

// for tel: urls, only replace the href, the above will replace the contents
$('a[href^="tel:"]').each(function() {
  var discoveryNumber = $(this).attr('href').replace('tel:', '');
  $(this).attr('data-ict-discovery-number', discoveryNumber);
  _ictt.push(['_addNumberElements', [this], { silentReplacements: true, discoveryNumber: discoveryNumber }]);
});

var numberReplaceElements = [];
var textNodes = [];

// handle these elements separately based on whether they have child elements
$('*:not(a[href^="tel:"])').each(function() {
  if (this.children.length === 0 && /^[\d\s+]+$/.test(this.textContent)) {
    numberReplaceElements.push(this);
  } else {
    $.each($(this).contents(), function () {
      // use integer value instead of Node.TEXT_NODE for better IE support
      if (this.nodeType === 3 && /\s*(?:\d+|\+(?:\d+|\s+)+)\s*$/.test(this.textContent)) {
        textNodes.push(this);

        var discoveryNumber = this.textContent.replace(/\s/g,'');
        _ictt.push(['_addToDestMap', { type: 'number',  identifier: discoveryNumber }]);
      }
    });
  }
});

_ictt.push(['_addNumberElements', numberReplaceElements]);

_ictt.push(['_addCallback', function() {
  var allocated = _ictt.push(['_getAllocatedNumbers']);
  
  $.each(textNodes, function(key, element) {
    var discoveryNumber = this.textContent.replace(/\s/g,'');
    if (allocated.hasOwnProperty(discoveryNumber)) {
      var content = '';
      // preserve leading whitespace
      if (this.textContent.indexOf(' ') === 0) {
        content = ' ';
      }

      this.textContent = content + allocated[discoveryNumber];
    }
  });
}, {eventName: 'afterNumberReplace'}]);

	
	
	
	
	
	
    _ictt.push(['_track']);
(function() {
    var ict = document.createElement('script'); ict.type = 'text/javascript'; ict.async = true;
    ict.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'ict.infinity-tracking.net/js/nas.v1.min.js';
    var scr = document.getElementsByTagName('script')[0]; scr.parentNode.insertBefore(ict, scr);
})();
</script>
<!-- Infinity Tracking Code End -->	  
	  
  </head>
  
  
  <body>

    This is a dynamic number<br>
    <span class="InfinityNumber">0333 060 3492</span
	    
<br><br>------------<br><br>
	    
    This is a clickable dynamic number<br>
    <a class="InfinityNumber" href="tel:03330603492">0333 060 3492</a>
	    
<br><br>------------<br><br>
	    
    This is also a clickable dynamic number (Using clickable)<br>
    <a class="InfinityNumber clickable">0333 060 3492</a>
	    
<br><br>------------<br><br>
	    
    This uses silent replace on the <b<Call Us</b> text to update the href<br>
    <a class="InfinityNumber" href="tel:03330603492" data-ict-discovery-number="03330603492" data-ict-silent-replacements="true">Call Us</a>
    
<br><br>------------<br><br>
	  
    href implemented before class - href still updates<br>
    <a href="tel:03330603492" class="InfinityNumber">0333 060 3492</a>
	  
<br><br>------------<br><br>
	  
    This uses silent replace on the <b>Call Now</b> button
    <div class="w3-container">
    <a href="tel:03330603492" data-ict-discovery-number="03330603492" data-ict-silent-replacements="true" class="InfinityNumber w3-button w3-pink">Call Now</a>
    
<br><br>------------<br><br>
 
	
	  
<a class="b-store__phone mt-10 d-block" href="tel:0333 0603492">0333 0603492</a>

<br><br>------------<br><br>
	    
	    
<p class="call-to-action"><strong>0333 0603492</strong> </p>

<br><br>------------<br><br>
	    
	    
<div class="number">
					<h4>0333 0603492</h4>
					<span>For our current opening hours please <a href="https://www.infinity.co" target="_blank">click here</a></span>
				</div>
	    
<br><br>------------<br><br>
	    
</div>
	  
	  	  
  </body>
</html>
